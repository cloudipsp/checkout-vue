<!DOCTYPE html>
<html>
  <head>
    <meta charset=utf-8>
    <meta name=viewport content="width=device-width,initial-scale=1">
    <title>checkout-vue</title>
    <style>
      html {
        height: 100%;
      }
      body {
        height: 100%;
        margin: 0;
        overflow-y: scroll;
        font-family: 'Arial', sans-serif;
      }
    </style>
    <script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/vue/2.5.3/vue.min.js></script>
    <script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/vee-validate/2.0.0-rc.21/vee-validate.min.js></script>
    <script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/vee-validate/2.0.0-rc.21/locale/ru.js></script>
    <script type=text/javascript src=https://cdn.jsdelivr.net/npm/vue-the-mask@0.11.1/dist/vue-the-mask.min.js></script>
  <script type=text/javascript src=checkout.js></script></head>
  <body>

<div id=app>
  <button class="btn btn-success" @click=submit() :disabled=!!errors.items.length>submit 2</button>
  <button class="btn btn-default" @click="location('ibank')">go ibank</button>
  <button class="btn btn-default" @click="location('card')">go card</button>

  <f-checkout :options=options></f-checkout>
</div>

<script>
  Vue.use(VueTheMask)
  Vue.use(VeeValidate, {
    locale: 'ru',
    inject: false,
    dictionary: {
      ru: {
        messages: {
          credit_card: function (field) {
            return 'Поле ' + field + ' должно быть действительным номером карты'
          }
        }
      }
    }
  })
  new Vue({
    el: '#app',
    data: {
      options: {
        fullScreen: false
      }
    },
    $_veeValidate: {
      validator: 'new'
    },
    methods: {
      submit: function () {
        this.$emit('submit')
      },
      location: function (method, system) {
        this.$emit('location', method, system)
      }
    }
  })
</script>
  </body>
</html>
